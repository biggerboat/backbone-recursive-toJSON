/*! backbone-recursive-tojson - v0.1.0 - 2013-10-06
* Copyright (c) 2013 Paul Tondeur; 
*/
var superToJSON=Backbone.Model.prototype.toJSON;_.extend(Backbone.Model.prototype,{_superToJSON:null,toJSON:function(){console.log("Model -> toJSON");var o,e=this._superToJSON();for(var t in e)if(!_.isEmpty(e[t]))if("function"==typeof e[t].toJSON)e[t]=e[t].toJSON();else if(_.isArray(e[t])){o=[];for(var r=0;e[t].length>r;r++)_.isEmpty(e[t][r])||"function"!=typeof e[t][r].toJSON?o.push(e[t][r]):o.push(e[t][r].toJSON());e[t]=o}return e}}),Backbone.Model.prototype._superToJSON=superToJSON;